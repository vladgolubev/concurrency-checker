resource "aws_cloudwatch_dashboard" "main" {
  provider       = aws.us_east_1
  dashboard_name = "Concurrency"
  dashboard_body = jsonencode({"widgets":[{"type":"metric","x":0,"y":0,"width":6,"height":6,"properties":{"metrics":[[{"expression":"SUM(METRICS())","label":"Invocations","id":"e1"}],["AWS/Lambda","Invocations","FunctionName","process",{"region":"us-east-1","id":"m1","visible":false}],["...",{"region":"us-east-2","id":"m2","visible":false}],["...",{"region":"us-west-1","id":"m3","visible":false}],["...",{"region":"us-west-2","id":"m4","visible":false}],["...",{"region":"af-south-1","id":"m5","visible":false}],["...",{"region":"ap-east-1","id":"m6","visible":false}],["...",{"region":"ap-south-2","id":"m7","visible":false}],["...",{"region":"ap-southeast-3","id":"m8","visible":false}],["...",{"region":"ap-southeast-4","id":"m9","visible":false}],["...",{"region":"ap-southeast-1","id":"m10","visible":false}],["...",{"region":"ap-southeast-2","id":"m11","visible":false}],["...",{"region":"ap-south-1","id":"m12","visible":false}],["...",{"region":"ap-northeast-3","id":"m13","visible":false}],["...",{"region":"ap-northeast-2","id":"m14","visible":false}],["...",{"region":"ap-northeast-1","id":"m15","visible":false}],["...",{"region":"ca-central-1","id":"m16","visible":false}],["...",{"region":"eu-central-1","id":"m17","visible":false}],["...",{"region":"eu-west-1","id":"m18","visible":false}],["...",{"region":"eu-west-2","id":"m19","visible":false}],["...",{"region":"eu-west-3","id":"m20","visible":false}],["...",{"region":"eu-south-1","id":"m21","visible":false}],["...",{"region":"eu-north-1","id":"m22","visible":false}],["...",{"region":"eu-south-2","id":"m23","visible":false}],["...",{"region":"eu-central-2","id":"m24","visible":false}],["...",{"region":"me-south-1","id":"m25","visible":false}],["...",{"region":"me-central-1","id":"m26","visible":false}],["...",{"region":"sa-east-1","id":"m27","visible":false}]],"view":"timeSeries","stacked":false,"region":"us-east-1","stat":"Sum","period":60,"legend":{"position":"hidden"},"title":"Invocations"}},{"type":"metric","x":6,"y":0,"width":6,"height":6,"properties":{"metrics":[[{"expression":"SUM(METRICS())","label":"Concurrent Invocations","id":"e1","region":"us-east-1","color":"#2ca02c"}],["AWS/Lambda","ConcurrentExecutions","FunctionName","process",{"region":"us-east-1","id":"m1","visible":false}],["...",{"region":"us-east-2","id":"m2","visible":false}],["...",{"region":"us-west-1","id":"m3","visible":false}],["...",{"region":"us-west-2","id":"m4","visible":false}],["...",{"region":"af-south-1","id":"m5","visible":false}],["...",{"region":"ap-east-1","id":"m6","visible":false}],["...",{"region":"ap-south-2","id":"m7","visible":false}],["...",{"region":"ap-southeast-3","id":"m8","visible":false}],["...",{"region":"ap-southeast-4","id":"m9","visible":false}],["...",{"region":"ap-southeast-1","id":"m10","visible":false}],["...",{"region":"ap-southeast-2","id":"m11","visible":false}],["...",{"region":"ap-south-1","id":"m12","visible":false}],["...",{"region":"ap-northeast-3","id":"m13","visible":false}],["...",{"region":"ap-northeast-2","id":"m14","visible":false}],["...",{"region":"ap-northeast-1","id":"m15","visible":false}],["...",{"region":"ca-central-1","id":"m16","visible":false}],["...",{"region":"eu-central-1","id":"m17","visible":false}],["...",{"region":"eu-west-1","id":"m18","visible":false}],["...",{"region":"eu-west-2","id":"m19","visible":false}],["...",{"region":"eu-west-3","id":"m20","visible":false}],["...",{"region":"eu-south-1","id":"m21","visible":false}],["...",{"region":"eu-north-1","id":"m22","visible":false}],["...",{"region":"eu-south-2","id":"m23","visible":false}],["...",{"region":"eu-central-2","id":"m24","visible":false}],["...",{"region":"me-south-1","id":"m25","visible":false}],["...",{"region":"me-central-1","id":"m26","visible":false}],["...",{"region":"sa-east-1","id":"m27","visible":false}]],"view":"timeSeries","stacked":false,"region":"us-east-1","stat":"Maximum","period":60,"legend":{"position":"hidden"},"title":"Concurrent Invocations"}},{"type":"metric","x":0,"y":6,"width":6,"height":6,"properties":{"metrics":[[{"expression":"AVG(METRICS())","label":"Duration Average","id":"e1","region":"us-east-1","color":"#9467bd"}],["AWS/Lambda","Duration","FunctionName","process",{"region":"us-east-1","id":"m1","visible":false}],["...",{"region":"us-east-2","id":"m2","visible":false}],["...",{"region":"us-west-1","id":"m3","visible":false}],["...",{"region":"us-west-2","id":"m4","visible":false}],["...",{"region":"af-south-1","id":"m5","visible":false}],["...",{"region":"ap-east-1","id":"m6","visible":false}],["...",{"region":"ap-south-2","id":"m7","visible":false}],["...",{"region":"ap-southeast-3","id":"m8","visible":false}],["...",{"region":"ap-southeast-4","id":"m9","visible":false}],["...",{"region":"ap-southeast-1","id":"m10","visible":false}],["...",{"region":"ap-southeast-2","id":"m11","visible":false}],["...",{"region":"ap-south-1","id":"m12","visible":false}],["...",{"region":"ap-northeast-3","id":"m13","visible":false}],["...",{"region":"ap-northeast-2","id":"m14","visible":false}],["...",{"region":"ap-northeast-1","id":"m15","visible":false}],["...",{"region":"ca-central-1","id":"m16","visible":false}],["...",{"region":"eu-central-1","id":"m17","visible":false}],["...",{"region":"eu-west-1","id":"m18","visible":false}],["...",{"region":"eu-west-2","id":"m19","visible":false}],["...",{"region":"eu-west-3","id":"m20","visible":false}],["...",{"region":"eu-south-1","id":"m21","visible":false}],["...",{"region":"eu-north-1","id":"m22","visible":false}],["...",{"region":"eu-south-2","id":"m23","visible":false}],["...",{"region":"eu-central-2","id":"m24","visible":false}],["...",{"region":"me-south-1","id":"m25","visible":false}],["...",{"region":"me-central-1","id":"m26","visible":false}],["...",{"region":"sa-east-1","id":"m27","visible":false}]],"view":"timeSeries","stacked":false,"region":"us-east-1","stat":"Average","period":60,"legend":{"position":"hidden"},"title":"Duration Average"}},{"type":"metric","x":6,"y":6,"width":6,"height":6,"properties":{"metrics":[[{"expression":"SUM(METRICS())","label":"Errors","id":"e1","region":"us-east-1","color":"#d62728"}],["AWS/Lambda","Errors","FunctionName","process",{"region":"us-east-1","id":"m1","visible":false}],["...",{"region":"us-east-2","id":"m2","visible":false}],["...",{"region":"us-west-1","id":"m3","visible":false}],["...",{"region":"us-west-2","id":"m4","visible":false}],["...",{"region":"af-south-1","id":"m5","visible":false}],["...",{"region":"ap-east-1","id":"m6","visible":false}],["...",{"region":"ap-south-2","id":"m7","visible":false}],["...",{"region":"ap-southeast-3","id":"m8","visible":false}],["...",{"region":"ap-southeast-4","id":"m9","visible":false}],["...",{"region":"ap-southeast-1","id":"m10","visible":false}],["...",{"region":"ap-southeast-2","id":"m11","visible":false}],["...",{"region":"ap-south-1","id":"m12","visible":false}],["...",{"region":"ap-northeast-3","id":"m13","visible":false}],["...",{"region":"ap-northeast-2","id":"m14","visible":false}],["...",{"region":"ap-northeast-1","id":"m15","visible":false}],["...",{"region":"ca-central-1","id":"m16","visible":false}],["...",{"region":"eu-central-1","id":"m17","visible":false}],["...",{"region":"eu-west-1","id":"m18","visible":false}],["...",{"region":"eu-west-2","id":"m19","visible":false}],["...",{"region":"eu-west-3","id":"m20","visible":false}],["...",{"region":"eu-south-1","id":"m21","visible":false}],["...",{"region":"eu-north-1","id":"m22","visible":false}],["...",{"region":"eu-south-2","id":"m23","visible":false}],["...",{"region":"eu-central-2","id":"m24","visible":false}],["...",{"region":"me-south-1","id":"m25","visible":false}],["...",{"region":"me-central-1","id":"m26","visible":false}],["...",{"region":"sa-east-1","id":"m27","visible":false}]],"view":"timeSeries","stacked":false,"region":"us-east-1","stat":"Sum","period":60,"legend":{"position":"hidden"},"title":"Errors"}},{"type":"metric","x":0,"y":0,"width":6,"height":6,"properties":{"metrics":[["AWS/CloudFront","Requests","Region","Global","DistributionId","E2I72NO5DV12ZT",{"accountId":"246310391653"}]],"view":"timeSeries","stacked":false,"region":"us-east-1","stat":"Sum","period":60,"legend":{"position":"hidden"},"title":"Target Requests"}},{"type":"metric","x":6,"y":0,"width":6,"height":6,"properties":{"metrics":[[{"expression":"METRICS()/1000000","label":"Traffic Megabytes","id":"e1"}],["AWS/CloudFront","BytesDownloaded","Region","Global","DistributionId","E2I72NO5DV12ZT",{"id":"m1","visible":false}]],"view":"timeSeries","stacked":false,"region":"us-east-1","stat":"Sum","period":60,"legend":{"position":"hidden"},"title":"Traffic Megabytes"}}]})
}
